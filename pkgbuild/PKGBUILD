# Maintainer: Britt W. Yazel <bwyazel@gmail.com>
# Maintainer: K. Hampf <khampf@users.sourceforge.net>
# Original maintainer: Lukas Sabota <lukas@lwsabota.com>

pkgbase="g13d"
pkgname="g13d-git"
pkgver=0.1.0
pkgrel=1
pkgdesc="Userspace driver for the Logitech G13 Keyboard"
arch=('x86_64' 'i686')
url="https://github.com/brittyazel/g13d/"
license=('MIT')
depends=('log4cpp' 'libusb' 'libevdev' 'systemd')
provides=('g13d')
conflicts=('g13d' 'g13' 'g13-git')
makedepends=('git' 'meson' 'libusb' 'systemd-libs' 'libevdev' 'log4cpp')
source=("git+https://github.com/brittyazel/g13d.git")
sha256sums=('SKIP')
install=g13d.install

build() {
    meson setup build "${pkgbase}" --prefix "/usr"
    meson compile -C build g13d pbm2lpbm
}

package() {
    # binaries
    meson install -C build --destdir "${pkgdir}"
}